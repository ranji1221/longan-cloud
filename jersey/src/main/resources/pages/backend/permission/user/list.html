<table id="demo" lay-filter="user"></table>

<script type="text/javascript">
<!--
layui.use(['table','layer'], function() {
	var table = layui.table;
	var layer = layui.layer;
	//-- 1. 初始化表单
	var cols = table.render({
		elem: '#demo',
		url: 'user/list',
		toolbar: 'default',
		page: true,
		cols : [ [
			 {type: 'checkbox', fixed: 'left'},
			 {field: 'id', title: 'ID', width:50, fixed: 'left'},
			 {field: 'username', title: '用户名', width:200},
		     {field: 'password', title: '密码', width:80},
		     {field: 'createTime', title: '创建时间', templet: "<div>{{layui.util.toDateString(d.createTime, 'yyyy-MM-dd HH:mm:ss')}}</div>"},
		     {field: 'updateTime', title: '更新时间', templet: "<div>{{layui.util.toDateString(d.updateTime, 'yyyy-MM-dd HH:mm:ss')}}</div>"},
		] ]
	});
	
	//-- 2. 监听数据表的头工具栏事件
	table.on('toolbar(user)',function(obj){
		var checkStatus = table.checkStatus(obj.config.id);
		var data = checkStatus.data;
		switch(obj.event){
			case 'add':
				layer.msg('添加');
				break;
			case 'update':
				if(data.length===0){
					layer.msg('请选择一行');
				}else if(data.length>1){
					layer.msg('对不起，只能同时编辑一条数据！');
				}else{
					layer.alert('编辑 [id]:' + checkStatus.data[0].id);
				}
				break;
			case 'delete':
				if(data.length===0){
					layer.msg('请选择一行');
				}else{
					layer.msg('删除');
				}
		}
	});
});

//-->
</script>
